# CloudClaude 需求規格

## 專案目標

把 Claude Code 帶到通訊軟體上，讓使用者隨時隨地都能操作程式碼。

## 核心問題

使用 Claude Code CLI 時，對話綁定在單一終端機上。當使用者切換設備時，必須重新開始對話。

## 解決方案

透過通訊軟體作為介面，讓使用者在任何設備上都能延續同一個對話，持續與 Claude Code 互動。

## 功能需求

### F1: 通訊軟體整合
- 透過通訊軟體與 Claude Code 對話
- 支援的平台：LINE、Slack、Discord、Telegram
- 若通訊軟體支援 streaming，則以 streaming 方式回傳訊息
- 支援多人群組對話：
  - 僅在被 @ 標記時才觸發 Claude
  - Claude 可獲得群組內近期對話作為上下文
  - 保留每群組最近 7 天內最多 1000 則訊息

### F2: 程式碼操作
- 執行程式碼相關指令（跑測試、lint、build 等）
- Claude 擁有完整的控制權限

### F3: Git 操作
- 操作 git（commit、push、pull 等）
- 所有功能開發的成果以 GitHub PR 呈現

### F3.1: 非開發需求的回應
- 若用戶需求不是開發，直接回覆答案
- 或以檔案形式傳送到通訊軟體

### F4: 開發環境存取
- 存取雲端 VM 上的完整開發環境
- VM 上已 clone GitHub repo
- 每個專案可有不同的開發環境配置
- 用戶可擁有多個 VM 用於切換不同的環境
- 用戶可在通訊軟體中指定目前對話連線到哪一台 VM 的 Claude
- 多個通訊軟體的群組或頻道可連接到同一個 VM，各自維持獨立的對話
- 當 VM 沒有被使用時可節省伺服器資源消耗
- 一個 VM 可包含多個 GitHub 專案，由用戶自行決定

### F5: 對話延續
- 切換設備時對話不中斷
- 對話保存於 VM 內，不會因 VM 關機而消失
- 對話僅在用戶指示時才會刪除

### F6: 多專案支援
- 用戶可同時開發多個專案
- 用戶可選擇在同一 VM 內管理多個專案，或使用多個 VM 分別管理

### F7: 多功能並行開發
- 同一個專案可同時開發多個功能
- 用戶可選擇使用多個 VM 處理，或在同一 VM 內處理

### F8: VM 管理
- 用戶可透過對話管理 VM
- 可要求 Claude 建立新的開發環境
- 可切換對話到指定的 VM 環境

## 系統架構

```
通訊軟體（LINE、Slack、Discord、Telegram...）
     │
     ▼ webhook
┌─────────────────────────────────┐
│  雲端 VM                         │
│  ├── 完整開發環境                │
│  ├── GitHub repo（已 clone）     │
│  ├── Claude Code                 │
│  └── 可執行測試、lint、build     │
└─────────────────────────────────┘
```
